!(function() {
  var e = (function() {
      "use strict";
      tinymce.PluginManager.add("Setting", function(t, e) {
          t.ui.registry.addIcon("marginIcon", '<svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="24px" height="30px" viewBox="0 0 344.000000 344.000000" preserveAspectRatio="xMidYMid meet"><g transform="translate(0.000000,344.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"><path d="M366 3219 c-22 -17 -26 -28 -26 -70 l0 -49 -49 0 c-42 0 -53 -4 -70 -26 -46 -58 -14 -114 67 -122 l52 -5 0 -148 c0 -136 2 -151 20 -169 25 -25 71 -26 101 -1 23 18 24 25 27 169 l3 151 151 3 c144 3 151 4 169 27 25 30 24 76 -1 101 -18 18 -33 20 -169 20 l-148 0 -5 52 c-8 81 -64 113 -122 67z"/><path d="M2980 3222 c-16 -13 -24 -32 -28 -70 l-5 -52 -148 0 c-136 0 -151 -2 -169 -20 -25 -25 -26 -71 -1 -101 18 -23 25 -24 169 -27 l151 -3 3 -151 c3 -144 4 -151 27 -169 30 -25 76 -24 101 1 18 18 20 33 20 169 l0 148 52 5 c81 8 113 64 67 122 -17 22 -28 26 -70 26 l-49 0 0 48 c0 38 -5 53 -23 70 -28 27 -67 28 -97 4z"/><path d="M980 3080 c-40 -40 -20 -107 36 -124 52 -16 104 46 84 99 -18 46 -85 60 -120 25z"/><path d="M1255 3075 c-27 -26 -30 -41 -16 -78 20 -51 105 -56 130 -8 43 79 -51 150 -114 86z"/><path d="M1530 3080 c-12 -12 -20 -33 -20 -53 0 -79 110 -100 140 -28 30 73 -65 136 -120 81z"/><path d="M1817 3089 c-28 -16 -40 -58 -27 -90 30 -72 140 -51 140 28 0 59 -61 92 -113 62z"/><path d="M2080 3080 c-36 -36 -21 -102 27 -121 35 -13 77 4 92 37 16 37 14 52 -14 79 -30 31 -77 33 -105 5z"/><path d="M2367 3089 c-27 -16 -38 -53 -26 -87 26 -76 139 -56 139 25 0 59 -61 92 -113 62z"/><path d="M610 1720 l0 -1110 1110 0 1110 0 0 1110 0 1110 -1110 0 -1110 0 0 -1110z m1839 526 c26 -24 27 -60 1 -86 -20 -20 -33 -20 -765 -20 -732 0 -745 0 -765 20 -32 32 -20 82 23 100 12 5 344 8 753 7 704 -2 733 -3 753 -21z m3 -483 c22 -20 23 -61 1 -85 -15 -17 -52 -18 -769 -18 l-753 0 -15 22 c-9 12 -16 29 -16 38 0 9 7 26 16 38 l15 22 751 0 c685 0 753 -1 770 -17z m-830 -480 c22 -20 24 -66 3 -87 -25 -25 -65 -27 -383 -24 l-304 3 -19 24 c-24 30 -24 56 1 81 19 19 33 20 352 20 294 0 333 -2 350 -17z"/><path d="M360 2460 c-35 -35 -21 -102 25 -120 33 -13 80 5 94 36 16 35 14 47 -10 78 -26 33 -79 36 -109 6z"/><path d="M2971 2454 c-12 -15 -21 -33 -21 -40 0 -29 24 -64 52 -73 53 -19 98 15 98 73 0 63 -89 90 -129 40z"/><path d="M383 2200 c-44 -18 -57 -86 -23 -120 48 -48 139 -2 126 63 -4 17 -12 37 -19 44 -17 17 -59 24 -84 13z"/><path d="M2992 2200 c-22 -9 -42 -46 -42 -76 0 -8 11 -26 25 -39 47 -48 125 -20 125 44 0 55 -57 92 -108 71z"/><path d="M360 1910 c-36 -36 -21 -102 27 -121 35 -13 77 4 92 37 16 35 14 48 -10 78 -26 33 -79 36 -109 6z"/><path d="M2971 1904 c-24 -30 -26 -43 -10 -78 34 -73 139 -44 139 38 0 63 -89 90 -129 40z"/><path d="M383 1650 c-26 -11 -43 -40 -43 -74 0 -63 89 -90 129 -40 12 15 21 33 21 40 0 26 -23 62 -47 73 -28 13 -30 13 -60 1z"/><path d="M2994 1649 c-22 -11 -44 -48 -44 -73 0 -7 9 -25 21 -40 41 -52 129 -23 129 43 0 55 -59 93 -106 70z"/><path d="M360 1360 c-36 -36 -21 -102 27 -121 35 -13 77 4 92 37 16 37 14 52 -14 79 -30 31 -77 33 -105 5z"/><path d="M2975 1355 c-27 -26 -30 -41 -16 -78 20 -51 105 -56 130 -8 43 79 -51 150 -114 86z"/><path d="M383 1100 c-26 -11 -43 -40 -43 -74 0 -63 89 -90 129 -40 12 15 21 33 21 40 0 29 -25 64 -53 74 -16 5 -30 10 -31 9 -1 0 -11 -4 -23 -9z"/><path d="M2999 1099 c-25 -9 -49 -45 -49 -73 0 -7 9 -25 21 -40 41 -52 129 -23 129 43 0 54 -50 88 -101 70z"/><path d="M360 810 c-18 -18 -20 -33 -20 -169 l0 -148 -52 -5 c-81 -8 -113 -64 -67 -122 17 -22 28 -26 70 -26 l49 0 0 -49 c0 -42 4 -53 26 -70 58 -46 114 -14 122 67 l5 52 148 0 c136 0 151 2 169 20 25 25 26 71 1 101 -18 23 -25 24 -170 27 l-151 3 0 143 c0 130 -2 146 -21 170 -26 33 -79 36 -109 6z"/><path d="M2971 804 c-19 -24 -21 -40 -21 -170 l0 -143 -151 -3 c-145 -3 -152 -4 -170 -27 -25 -30 -24 -76 1 -101 18 -18 33 -20 169 -20 l148 0 5 -52 c8 -81 64 -113 122 -67 22 17 26 28 26 70 l0 49 49 0 c42 0 53 4 70 26 46 58 14 114 -67 122 l-52 5 0 148 c0 136 -2 151 -20 169 -30 30 -83 27 -109 -6z"/><path d="M986 469 c-50 -40 -23 -129 40 -129 58 0 92 45 73 98 -9 28 -44 52 -73 52 -7 0 -25 -9 -40 -21z"/><path d="M1272 480 c-22 -9 -42 -46 -42 -76 0 -8 11 -26 25 -39 47 -48 125 -20 125 44 0 55 -57 92 -108 71z"/><path d="M1536 469 c-50 -40 -23 -129 40 -129 82 0 111 105 38 139 -35 16 -48 14 -78 -10z"/><path d="M1823 478 c-30 -15 -46 -58 -34 -91 12 -30 39 -47 75 -47 63 0 90 89 40 129 -29 23 -48 25 -81 9z"/><path d="M2103 480 c-44 -18 -57 -86 -23 -120 48 -48 139 -2 126 63 -4 17 -12 37 -19 44 -17 17 -59 24 -84 13z"/><path d="M2373 478 c-12 -6 -27 -24 -32 -40 -19 -53 15 -98 73 -98 63 0 90 89 40 129 -29 23 -48 25 -81 9z"/></g></svg>');
          var dataplugin = 10;
          var n = !1,
              o = [];
          var x = 0;
          function i() {
              var myContentr = tinymce.activeEditor.getContent();
              let convertstringg = String(myContentr);
              var res = convertstringg.split(" ");
              console.log(res);
              var datatop = res[9];
              var databottom = res[10];
              var dataleft = res[11];
              var dataright = res[12];
              if (typeof dataleft != "undefined") {
                  var number = parseFloat(dataleft.match(/[+-]?([0-9]*[.])?[0-9]+/));
                  dataleft = number + "cm";
              } else {
                  dataleft = 4.03 + "cm";
              }
              if (typeof dataright != "undefined") {
                  var number = parseFloat(dataright.match(/[+-]?([0-9]*[.])?[0-9]+/));
                  dataright = number + "cm";
              } else {
                  dataright = 2.54 + "cm"
              }
              if (typeof datatop != "undefined") {
                  var number = parseFloat(datatop.match(/[+-]?([0-9]*[.])?[0-9]+/));
                  datatop = number + "cm";
              } else {
                  datatop = 4.83 + "cm"
              }
              if (typeof databottom != "undefined") {
                  var number = parseFloat(databottom.match(/[+-]?([0-9]*[.])?[0-9]+/));
                  databottom = number + "cm";
              } else {
                  databottom = 2.54 + "cm"
              }
              if ((typeof datatop != "undefined") && (typeof databottom == "undefined")) {
                  databottom = datatop;
                  dataleft = datatop;
                  dataright = datatop;
              }
              return {
                  title: "Set Page Margin",
                  body: {
                      type: "panel",
                      items: [
                          {
                              type: "input",
                              name: "top",
                              inputMode: 'numeric',
                              label: "Top(Current " + datatop + " )"
                          },
                          {
                              type: "input",
                              name: "bottom",
                              inputMode: 'numeric',
                              label: "Bottom(Current " + databottom + " )"
                          }, {
                              type: "input",
                              name: "left",
                              inputMode: 'numeric',
                              label: "Left(Current " + dataleft + " )"
                          }, {
                              type: "input",
                              name: "right",
                              inputMode: 'numeric',
                              label: "Right(Current " + dataright + " )"
                          },
                      ]
                  },
                  onSubmit: function(e) {
                      let Top = e.getData().top;
                      let Bottom = e.getData().bottom;
                      let Left = e.getData().left;
                      let Right = e.getData().right;
                      if (Top == '') {
                          if(localStorage.getItem("x")!=''){
                                Top=localStorage.getItem("x");
                        }
                           else{  Top = 4.83;}
                      } else {
                          Top = e.getData().top;
                          localStorage.setItem("x", Top);
                      }


                      if (Bottom == '') {
                        if(localStorage.getItem("y")!=''){
                            Bottom=localStorage.getItem("y");
                    }
                        else{ 
                             Bottom = 2.54;
                            }
                      } else {
                          Bottom = e.getData().bottom;
                          localStorage.setItem("y", Bottom);
                      }
                      if (Left == '') {
                        if(localStorage.getItem("z")!=''){
                            Left=localStorage.getItem("z");
                    }
                         else{ Left = 4.06;}
                      } else {

                          Left = e.getData().left;
                          localStorage.setItem("z", Left);
                      }


                      if (Right == '') {
                        if(localStorage.getItem("v")!=''){
                            Right=localStorage.getItem("v");
                    }
                    else{
                          Right = 2.54;
                    }
                      } else {
                          Right = e.getData().right;
                          localStorage.setItem("v", Right);
                      }
                     
                      var myContent = tinymce.activeEditor.getContent();
                      let convertstring = String(myContent);
                      var removeData = convertstring.replaceAll('id="data" style="', '');
                      // let dataheading="";
                      tinymce.activeEditor.setContent('');
                      tinymce.activeEditor.setContent("<div id='data' style='padding-top:" + Top + "cm; padding-right:" + Right + "cm; padding-bottom:" + Bottom + "cm;padding-left:" + Left + "cm;position:absolute;top:0;left:0;' >" + removeData + "</div>");
                      e.close();
                  },
                  buttons: [{
                      text: "Close",
                      type: "cancel",
                      onclick: "close"
                  }, {
                      text: "Save",
                      type: "submit",
                      primary: !0,
                      enabled: !1
                  }, ],
              };
          }
          function l() {
              (n = t.windowManager.open(i())).block("Loading..."),
                  setTimeout(function() {
                      (o = [{
                          text: "First Option",
                          value: "1"
                      }, {
                          text: "Second Option",
                          value: "2"
                      }, {
                          text: "Third Option",
                          value: "3"
                      }, ]),
                      n.redial(i()),
                          n.unblock();
                  }, 1e3);
          }
          return (
              t.ui.registry.addButton("Setting", {
                  text: "Page Margin",
                  tooltip: 'Set Page Margin',
                  icon: "marginIcon",
                  onAction: l
              }),
              t.ui.registry.addMenuItem("Setting", {
                  text: "Page Margin",
                  tooltip: 'Set Page Margin',
                  context: "insert",
                  icon: "marginIcon",
                  onAction: l
              }), {
                  getMetadata: function() {
                      return {
                          name: "Hello World example",
                          url: ""
                      };
                  },
              }
          );
      });
  })();
})();